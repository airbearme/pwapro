import{r as c,R as q}from"./ui-px3URMEX.js";import{r as $}from"./react-BSweZu2H.js";function F(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,o,r,s,u=[],f="",d=e.split("/");for(d[0]||d.shift();r=d.shift();)n=r[0],n==="*"?(u.push(n),f+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(o=r.indexOf("?",1),s=r.indexOf(".",1),u.push(r.substring(1,~o?o:~s?s:r.length)),f+=~o&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(f+=(~o?"?":"")+"\\"+r.substring(s))):f+="/"+r;return{keys:u,pattern:new RegExp("^"+f+(t?"(?=$|/)":"/?$"),"i")}}var L={exports:{}},g={},w;function N(){if(w)return g;w=1;return(function(){function e(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}function t(l,h){a||r.startTransition===void 0||(a=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var m=h();if(!E){var p=h();s(m,p)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),E=!0)}p=u({inst:{value:m,getSnapshot:h}});var y=p[0].inst,v=p[1];return d(function(){y.value=m,y.getSnapshot=h,n(y)&&v({inst:y})},[l,m,h]),f(function(){return n(y)&&v({inst:y}),l(function(){n(y)&&v({inst:y})})},[l]),i(m),m}function n(l){var h=l.getSnapshot;l=l.value;try{var m=h();return!s(l,m)}catch{return!0}}function o(l,h){return h()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var r=$(),s=typeof Object.is=="function"?Object.is:e,u=r.useState,f=r.useEffect,d=r.useLayoutEffect,i=r.useDebugValue,a=!1,E=!1,S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o:t;g.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:S,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})(),g}var b;function W(){return b||(b=1,L.exports=N()),L.exports}var Y=W();const z=q.useInsertionEffect,J=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q=J?c.useLayoutEffect:c.useEffect,X=z||Q,H=e=>{const t=c.useRef([e,(...n)=>t[0](...n)]).current;return X(()=>{t[0]=e}),t[1]},Z="popstate",x="pushState",R="replaceState",ee="hashchange",k=[Z,x,R,ee],te=e=>{for(const t of k)addEventListener(t,e);return()=>{for(const t of k)removeEventListener(t,e)}},I=(e,t)=>Y.useSyncExternalStore(te,e,t),C=()=>location.search,ne=({ssrSearch:e}={})=>I(C,e!=null?()=>e:C),P=()=>location.pathname,re=({ssrPath:e}={})=>I(P,e!=null?()=>e:P),oe=(e,{replace:t=!1,state:n=null}={})=>history[t?R:x](n,"",e),se=(e={})=>[re(e),oe],T=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[T]>"u"){for(const e of[x,R]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),o=new Event(e);return o.arguments=arguments,dispatchEvent(o),n}}Object.defineProperty(window,T,{value:!0})}const ae=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",K=(e="")=>e==="/"?"":e,ce=(e,t)=>e[0]==="~"?e.slice(1):K(t)+e,ue=(e="",t)=>ae(A(K(e)),A(t)),A=e=>{try{return decodeURI(e)}catch{return e}},j={hook:se,searchHook:ne,parser:F,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},B=c.createContext(j),_=()=>c.useContext(B),G={},U=c.createContext(G),ie=()=>c.useContext(U),O=e=>{const[t,n]=e.hook(e);return[ue(e.base,t),H((o,r)=>n(ce(o,e.base),r))]},pe=()=>O(_()),V=(e,t,n,o)=>{const{pattern:r,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",o),u=r.exec(n)||[],[f,...d]=u;return f!==void 0?[!0,(()=>{const i=s!==!1?Object.fromEntries(s.map((E,S)=>[E,d[S]])):u.groups;let a={...d};return i&&Object.assign(a,i),a})(),...o?[f]:[]]:[!1,null]},fe=({children:e,...t})=>{const n=_(),o=t.hook?j:n;let r=o;const[s,u]=t.ssrPath?.split("?")??[];u&&(t.ssrSearch=u,t.ssrPath=s),t.hrefs=t.hrefs??t.hook?.hrefs,t.searchHook=t.searchHook??t.hook?.searchHook;let f=c.useRef({}),d=f.current,i=d;for(let a in o){const E=a==="base"?o[a]+(t[a]||""):t[a]||o[a];d===i&&E!==i[a]&&(f.current=i={...i}),i[a]=E,(E!==o[a]||E!==r[a])&&(r=i)}return c.createElement(B.Provider,{value:r,children:e})},D=({children:e,component:t},n)=>t?c.createElement(t,{params:n}):typeof e=="function"?e(n):e,le=e=>{let t=c.useRef(G);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([o,r])=>r!==n[o])?e:n},me=({path:e,nest:t,match:n,...o})=>{const r=_(),[s]=O(r),[u,f,d]=n??V(r.parser,e,s,t),i=le({...ie(),...f});if(!u)return null;const a=d?c.createElement(fe,{base:d},D(o,i)):D(o,i);return c.createElement(U.Provider,{value:i,children:a})},Ee=c.forwardRef((e,t)=>{const n=_(),[o,r]=O(n),{to:s="",href:u=s,onClick:f,asChild:d,children:i,className:a,replace:E,state:S,...l}=e,h=H(p=>{p.ctrlKey||p.metaKey||p.altKey||p.shiftKey||p.button!==0||(f?.(p),p.defaultPrevented||(p.preventDefault(),r(u,e)))}),m=n.hrefs(u[0]==="~"?u.slice(1):n.base+u,n);return d&&c.isValidElement(i)?c.cloneElement(i,{onClick:h,href:m}):c.createElement("a",{...l,onClick:h,href:m,className:a?.call?a(o===u):a,children:i,ref:t})}),M=e=>Array.isArray(e)?e.flatMap(t=>M(t&&t.type===c.Fragment?t.props.children:t)):[e],ye=({children:e,location:t})=>{const n=_(),[o]=O(n);for(const r of M(e)){let s=0;if(c.isValidElement(r)&&(s=V(n.parser,r.props.path,t||o,r.props.nest))[0])return c.cloneElement(r,{match:s})}return null};export{Ee as L,me as R,ye as S,Y as s,pe as u};
